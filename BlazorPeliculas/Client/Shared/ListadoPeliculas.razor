<div>
    <h3>Películas</h3>
    @if (Peliculas is null)
    {
        @if (Cargando is null)
        {
            <text>Cargando...</text>
        }
        else
        {
            @Cargando
        }
    }
    else if (Peliculas.Count == 0)
    {
        @if (NoHayRegistros is null)
        {
            <text>No hay registros para mostrar....</text>
        }
        else
        {
            @NoHayRegistros
        }
    }
    else
    {
        <input type="checkbox" @bind="MostrarBotones" />
        @foreach (var pelcula in Peliculas)
        {
            <PeliculaIndividual pelicula="pelcula" EliminarPelicula="EliminarPelicula" MostrarBotones="MostrarBotones" />
        }
    }
</div>

@code {
    [Parameter] public List<Pelicula> Peliculas { get; set; }
    [Parameter] public RenderFragment Cargando { get; set; }
    [Parameter] public RenderFragment NoHayRegistros { get; set; }
    bool MostrarBotones = false;

    void EliminarPelicula(Pelicula pelicula)
    {
        Peliculas.Remove(pelicula);
        Console.WriteLine($"Se ha eliminado la pelicula {pelicula.Titulo}");
    }

    /**
     * OnInitializedAsync es un metodo que see ejecuta
     * cuando el componente esta montado
     */
    //protected override async Task OnInitializedAsync()
    //{
    //    Peliculas = ObtenerPeliculas();
    //}
}
